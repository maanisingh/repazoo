import{r as v,a as P,j as e,d as N,B as u,o as C,_ as F,t as x,s as p,l as _,L as I}from"./index-Ddobsr3m.js";import{C as S,a as L,b as A,c as E,d as k,e as R}from"./card-CYxOe6Sh.js";import{A as B}from"./auth-layout-D80QX3sQ.js";import{u as D,a as T,F as G,b as n,c as o,d as t,e as i,f as l}from"./form-B29Jnd6R.js";import{I as H}from"./icon-facebook-DfZuW2MQ.js";import{I as O}from"./icon-github-DL19cs1Z.js";import{I as f}from"./input-CpnHfqR8.js";import{P as j}from"./password-input-g7bYxK8i.js";import"./logo-DnFjGaNe.js";import"./label-22olxpxC.js";import"./index-BpsjUItK.js";import"./eye-BmrJ9jpJ.js";const U=C({full_name:p().min(1,"Please enter your full name"),email:_({error:r=>r.input===""?"Please enter your email":void 0}),password:p().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long"),confirmPassword:p().min(1,"Please confirm your password")}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match.",path:["confirmPassword"]});function V({className:r,...g}){const[c,d]=v.useState(!1),w=P(),a=D({resolver:T(U),defaultValues:{full_name:"",email:"",password:"",confirmPassword:""}});async function y(s){d(!0);try{const{n8nClient:m}=await F(async()=>{const{n8nClient:b}=await import("./repazoo-client-DWf3vMtU.js");return{n8nClient:b}},[]),h=await m.register({email:s.email,password:s.password,full_name:s.full_name});h.success?(x.success("Account created successfully! Please sign in."),w({to:"/sign-in"})):(x.error(h.message||"Registration failed"),d(!1))}catch(m){console.error("Registration error:",m),x.error("Registration failed. Please try again."),d(!1)}}return e.jsx(G,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(y),className:N("grid gap-3",r),...g,children:[e.jsx(n,{control:a.control,name:"full_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(t,{children:"Full Name"}),e.jsx(i,{children:e.jsx(f,{placeholder:"John Doe",...s})}),e.jsx(l,{})]})}),e.jsx(n,{control:a.control,name:"email",render:({field:s})=>e.jsxs(o,{children:[e.jsx(t,{children:"Email"}),e.jsx(i,{children:e.jsx(f,{placeholder:"name@example.com",...s})}),e.jsx(l,{})]})}),e.jsx(n,{control:a.control,name:"password",render:({field:s})=>e.jsxs(o,{children:[e.jsx(t,{children:"Password"}),e.jsx(i,{children:e.jsx(j,{placeholder:"********",...s})}),e.jsx(l,{})]})}),e.jsx(n,{control:a.control,name:"confirmPassword",render:({field:s})=>e.jsxs(o,{children:[e.jsx(t,{children:"Confirm Password"}),e.jsx(i,{children:e.jsx(j,{placeholder:"********",...s})}),e.jsx(l,{})]})}),e.jsx(u,{className:"mt-2",disabled:c,children:"Create Account"}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background text-muted-foreground px-2",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(u,{variant:"outline",className:"w-full",type:"button",disabled:c,children:[e.jsx(O,{className:"h-4 w-4"})," GitHub"]}),e.jsxs(u,{variant:"outline",className:"w-full",type:"button",disabled:c,children:[e.jsx(H,{className:"h-4 w-4"})," Facebook"]})]})]})})}function J(){return e.jsx(B,{children:e.jsxs(S,{className:"gap-4",children:[e.jsxs(L,{children:[e.jsx(A,{className:"text-lg tracking-tight",children:"Create an account"}),e.jsxs(E,{children:["Enter your email and password to create an account. ",e.jsx("br",{}),"Already have an account?"," ",e.jsx(I,{to:"/sign-in",className:"hover:text-primary underline underline-offset-4",children:"Sign In"})]})]}),e.jsx(k,{children:e.jsx(V,{})}),e.jsx(R,{children:e.jsxs("p",{className:"text-muted-foreground px-8 text-center text-sm",children:["By creating an account, you agree to our"," ",e.jsx("a",{href:"/terms",className:"hover:text-primary underline underline-offset-4",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"hover:text-primary underline underline-offset-4",children:"Privacy Policy"}),"."]})})]})})}const re=J;export{re as component};
