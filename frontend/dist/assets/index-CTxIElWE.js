import{b as v,o as b,j as e,B as h,L as T,d as f,M as N,s as t,P as C}from"./index-DJ90lmtz.js";import{C as S}from"./content-section-YcNwN52_.js";import{u as U,a as P,g as L,F as k,b as n,c as o,d as a,e as i,h as l,f as c}from"./form-DM-D-CWZ.js";import{u as A}from"./useQuery-0OtsgxzG.js";import{s as B}from"./show-submitted-data-CnU3oWL5.js";import{n8nClient as Y}from"./n8n-client-BQEnKJiU.js";import{I as d}from"./input-Db_rp8gl.js";import{T as z}from"./textarea-CK1LdbjG.js";import{B as D}from"./badge-Bj0RyG7G.js";import"./separator-CthrwTST.js";import"./index-Ca_DM27t.js";import"./label-u8MdU1nj.js";const H=b({username:t("Please enter your username.").min(2,"Username must be at least 2 characters.").max(30,"Username must not be longer than 30 characters."),email:t().email("Please enter a valid email address."),twitterHandle:t().optional(),subscriptionTier:t().optional(),bio:t().max(160).optional(),urls:N(b({value:t().url("Please enter a valid URL.").or(C(""))})).optional()});function I(){const{auth:x}=v(),m=x.user?.accountNo||"",j=x.user?.email||"",{data:p}=A({queryKey:["twitter-status",m],queryFn:()=>Y.getUserTwitterStatus(m),enabled:!!m}),g={username:j.split("@")[0]||"User",email:j,twitterHandle:p?.twitter_handle||"",subscriptionTier:"Free",bio:"Monitoring my online reputation",urls:[]},r=U({resolver:P(H),defaultValues:g,mode:"onChange"}),{fields:y,append:F}=L({name:"urls",control:r.control});return e.jsx(k,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(s=>B(s)),className:"space-y-8",children:[e.jsx(n,{control:r.control,name:"username",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Display Name"}),e.jsx(i,{children:e.jsx(d,{placeholder:"Your name",...s})}),e.jsx(l,{children:"This is your public display name used throughout the application."}),e.jsx(c,{})]})}),e.jsx(n,{control:r.control,name:"email",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Email Address"}),e.jsx(i,{children:e.jsx(d,{...s,disabled:!0})}),e.jsx(l,{children:"Your registered email address. Contact support to change this."}),e.jsx(c,{})]})}),e.jsx(n,{control:r.control,name:"twitterHandle",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Twitter Handle"}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{...s,disabled:!0,placeholder:"Not connected"}),p?.connected&&e.jsx(D,{variant:"outline",className:"bg-green-50 dark:bg-green-900/30",children:"Connected"})]})}),e.jsx(l,{children:"Your connected Twitter account. Manage connection from the dashboard."}),e.jsx(c,{})]})}),e.jsx(n,{control:r.control,name:"subscriptionTier",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Subscription Tier"}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{...s,disabled:!0}),e.jsx(h,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(T,{to:"/",children:"Upgrade"})})]})}),e.jsx(l,{children:"Your current subscription plan."}),e.jsx(c,{})]})}),e.jsx(n,{control:r.control,name:"bio",render:({field:s})=>e.jsxs(o,{children:[e.jsx(a,{children:"Bio"}),e.jsx(i,{children:e.jsx(z,{placeholder:"Tell us a little bit about yourself",className:"resize-none",...s})}),e.jsxs(l,{children:["You can ",e.jsx("span",{children:"@mention"})," other users and organizations to link to them."]}),e.jsx(c,{})]})}),e.jsxs("div",{children:[y.map((s,u)=>e.jsx(n,{control:r.control,name:`urls.${u}.value`,render:({field:w})=>e.jsxs(o,{children:[e.jsx(a,{className:f(u!==0&&"sr-only"),children:"URLs"}),e.jsx(l,{className:f(u!==0&&"sr-only"),children:"Add links to your website, blog, or social media profiles."}),e.jsx(i,{children:e.jsx(d,{...w})}),e.jsx(c,{})]})},s.id)),e.jsx(h,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>F({value:""}),children:"Add URL"})]}),e.jsx(h,{type:"submit",children:"Update profile"})]})})}function M(){return e.jsx(S,{title:"Profile",desc:"This is how others will see you on the site.",children:e.jsx(I,{})})}const X=M;export{X as component};
